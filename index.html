<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-+0n0xVW2eSR5OomGNYDnhzAbDsOXxcvSN1TPprVMTNDbiYZCxYbOOl7+AMvyTG2x" crossorigin="anonymous">
<!-- JavaScript Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.1/dist/js/bootstrap.bundle.min.js"
    integrity="sha384-gtEjrD/SeCtmISkJkNUaaKMoLD0//ElJ19smozuHV6z3Iehds+3Ulb9Bn9Plx0x4"
    crossorigin="anonymous"></script>
    <style>
        body {
            height: 2500px;
        }

        .carousel-item img {
            height: 650px;
            width: 1900px;
        }
        .carousel-item h5 {
            color: black;
        }
        .carousel-item p {
            color: black;
        }
        .carousel-control-prev-icon,
.carousel-control-next-icon {
  height: 40px;
  width: 40px;
  outline: black;
  background-size: 20%, 20%;
  border-radius: 50%;
  border: 1px solid black;
  background-image: none;
}

.carousel-control-next-icon:after
{
  content: '>';
  font-size: 25px;
  color: rgb(14, 13, 13);
}

.carousel-control-prev-icon:after {
  content: '<';
  font-size: 25px;
  color: rgb(14, 13, 13);
}
       
    </style>

</head>

<body>
<div class="container">
  
    <div class="row mt-5">
      
        <div class="col-4"></div>
        <div class="col-4">
            
            <input type="text" name=""  id="country" placeholder="Enter countryname" style="margin-top: 10px;margin-bottom: 20px;border-width: 1mm;">
            <button onclick="fetchCountry()" style="border-color: black; border-width: 1mm;">Info</button>
            
          </div>
        <div class="col-4"></div>
    </div>
    <div class="row" id="result" onclick="displayValues()" >
        
    </div>

</div>
</body>
<script>
    function displayValues(country){
        let name=country[0].name
        let capital=country[0].capital
        let population=country[0].population
        let flag=country[0].flag
        let cu_name=country[0].currencies[0].name
        let symbol=country[0].currencies[0].symbol
        let native_name=country[0].nativeName
        let border_cntry=country[0].borders
        let native_lang=country[0].languages[0].name
        console.log(name,population,flag,cu_name,symbol);
        let html_data=`<div id="carouselExampleCaptions" class="carousel slide" data-bs-ride="carousel">
  <div class="carousel-indicators">
    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="0" class="active" aria-current="true" aria-label="Slide 1"></button>
    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="1" aria-label="Slide 2"></button>
    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="2" aria-label="Slide 3"></button>
    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="3" aria-label="Slide 4"></button>
    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="4" aria-label="Slide 5"></button>
    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="5" aria-label="Slide 6"></button>
    <button type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide-to="6" aria-label="Slide 7"></button>
    </div>
  <div class="carousel-inner">

    <div class="carousel-item active" >
      <img src="${flag}" class="d-block w-100" alt="...">
      <div class="carousel-caption d-none d-md-block">
        <h5>Flag</h5>
        <p> ${name}'s flag is displayed in background.</p>
      </div>
    </div>

    <div class="carousel-item " >
      <img src="${flag}" class="d-block w-100" alt="...">
      <div class="carousel-caption d-none d-md-block">
        <h5>Native Name</h5>
        <p> ${name}'s native name is ${native_name}.</p>
      </div>
    </div>
    <div class="carousel-item">
      <img src="${flag}" class="d-block w-100" alt="...">
      <div class="carousel-caption d-none d-md-block">
        <h5>Capital</h5>
        <p> ${name}'s capital is ${capital}.</p>
      </div>
    </div>

    <div class="carousel-item">
      <img src="${flag}" class="d-block w-100" alt="...">
      <div class="carousel-caption d-none d-md-block">
        <h5>Population</h5>
        <p>${name} has about ${population} of population.</p>
      </div>
    </div>

    <div class="carousel-item ">
      <img src="${flag}" class="d-block w-100" alt="...">
      <div class="carousel-caption d-none d-md-block">
        <h5>Currency and Symbol</h5>
        <p>${name}'s currency is ${cu_name} and its symbol is ${symbol}</p>
      </div>
    </div>

    <div class="carousel-item ">
      <img src="${flag}" class="d-block w-100" alt="...">
      <div class="carousel-caption d-none d-md-block">
        <h5>Border Countries</h5>
        <p>${name}'s border is shared by ${border_cntry}.</p>
      </div>
    </div>

    <div class="carousel-item ">
      <img src="${flag}" class="d-block w-100" alt="...">
      <div class="carousel-caption d-none d-md-block">
        <h5>Native Language</h5>
        <p>${name}'s native language is ${native_lang}.</p>
      </div>
    </div>



  </div>
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-next" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="next">
    <span class="carousel-control-next-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Next</span>
  </button>
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
  <button class="carousel-control-prev" type="button" data-bs-target="#carouselExampleCaptions" data-bs-slide="prev">
    <span class="carousel-control-prev-icon" aria-hidden="true"></span>
    <span class="visually-hidden">Previous</span>
  </button>
</div>`
document.querySelector("#result").innerHTML=html_data

    }

   /* function fetchCountry(){
        let country_name=country.value
        let url=`https://restcountries.eu/rest/v2/name/${country_name}?fullText=true`
        let request=new XMLHttpRequest()
        request.open("get",url)
        request.send()
        request.onreadystatechange=()=>{
            if(request.readyState==4){
                if(request.status>199 & request.status<300){
                    let data=JSON.parse(request.responseText)
                    console.log(data);
                    displayValues(data)
                }
                else{
                    console.log("failed");
                }
            }
        }
    } */

    function fetchCountry(){
        let country_name=country.value;
        let url=`https://restcountries.eu/rest/v2/name/${country_name}?fullText=true`
        fetch(url).then(res=>{
            if(!(res.ok)){
              throw new Error("failed to fetch data")
            }
            else{
                return res.json()
            }
        }).then(data=>displayValues(data)).catch(error=>alert(error.message))

    }
</script>
</html>